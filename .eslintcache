[{"F:\\zmaster_repo\\react\\react-exercise\\src\\index.js":"1","F:\\zmaster_repo\\react\\react-exercise\\src\\App.js":"2","F:\\zmaster_repo\\react\\react-exercise\\src\\reportWebVitals.js":"3","F:\\zmaster_repo\\react\\react-exercise\\src\\components\\Home.js":"4","F:\\zmaster_repo\\react\\react-exercise\\src\\components\\Temperature.js":"5","F:\\zmaster_repo\\react\\react-exercise\\src\\redux\\reducers\\myReducer.js":"6","F:\\zmaster_repo\\react\\react-exercise\\src\\redux\\actions.js":"7"},{"size":500,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":795,"mtime":1610299843416,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"9"},{"size":4374,"mtime":1610303403906,"results":"12","hashOfConfig":"9"},{"size":1018,"mtime":1610303053369,"results":"13","hashOfConfig":"9"},{"size":810,"mtime":1610302425989,"results":"14","hashOfConfig":"9"},{"size":309,"mtime":1610301537196,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1bp4mdd",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"F:\\zmaster_repo\\react\\react-exercise\\src\\index.js",[],["32","33"],"F:\\zmaster_repo\\react\\react-exercise\\src\\App.js",[],"F:\\zmaster_repo\\react\\react-exercise\\src\\reportWebVitals.js",[],"F:\\zmaster_repo\\react\\react-exercise\\src\\components\\Home.js",["34","35","36"],"import { useReducer, useState, useEffect } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nimport {connect, useDispatch} from 'react-redux'\r\nimport {setTemperature, increment} from '../redux/actions'\r\n\r\nconst Home = () => {\r\n   const countries = [\"Kuala Lumpur\", \"Singapore\"]\r\n   const defaultKey = \"ff9f895b2e884d6680530135202710\"\r\n   const [submitted, setSubmitted] = useState(false)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   useEffect(() => {\r\n      if(submitted) {\r\n         // fetch data from API\r\n         /* setTemperature({\r\n            celsius: 111,\r\n            fahrenheit: 222\r\n         }) */\r\n         getData()\r\n      }\r\n   }, [submitted])\r\n\r\n   /* useEffect(() => {\r\n      getData()\r\n      /* if (submitted) {\r\n         // fetch data from API\r\n         /* setTemperature({\r\n            celsius: 111,\r\n            fahrenheit: 222\r\n         }) \r\n         getData()\r\n      } \r\n   }, []) */\r\n\r\n   let history = useHistory()\r\n\r\n   const formReducer = (state, event) => {\r\n      return {\r\n         ...state,\r\n         [event.name]: event.value\r\n      }\r\n   }\r\n\r\n   const [formData, setFormData] = useReducer(formReducer, {\r\n      key: defaultKey,\r\n      country: '',\r\n   })\r\n\r\n   const handleSubmit = (event) => {\r\n      event.preventDefault()\r\n\r\n      if (formData.country === \"\" || formData.key === \"\") {\r\n         //todo add a snackbar here \r\n         alert('error')\r\n      }\r\n      else {\r\n         // send request to API here\r\n         //getData()\r\n         //goToTemperaturePage()\r\n         setSubmitted(true)\r\n      }\r\n      console.log(formData)  \r\n\r\n      /* increment()\r\n      setTemperature({\r\n         celsius: 111,\r\n         fahrenheit: 222\r\n      }) */\r\n   }\r\n\r\n   /* const goToTemperaturePage = () => {\r\n      history.push(\"/temperature\", {\r\n         celsius: celsius, \r\n         fahrenheit: fahrenheit\r\n      })\r\n      console.log(history)\r\n   } */\r\n\r\n   const handleChange = (event) => {\r\n      setFormData({\r\n         name: event.target.name,\r\n         value: event.target.value,\r\n      })\r\n   }\r\n\r\n   const getData = async () => {\r\n      const url = `http://api.weatherapi.com/v1/current.json?key=${formData.key}&q=${formData.country}`\r\n      const response = await fetch(url)\r\n\r\n      if (!response.ok) {\r\n         console.log(response.statusText)\r\n      }\r\n      else {\r\n         const data = await response.json()\r\n\r\n         console.log(data.current)\r\n         console.log(data.current.temp_c)\r\n         console.log(data.current.temp_f)\r\n         //setCelsius(data.current.temp_c)\r\n         //setFahrenheit(data.current.temp_f)\r\n\r\n         dispatch(setTemperature({\r\n            celsius: data.current.temp_c,\r\n            fahrenheit: data.current.temp_f\r\n         }))\r\n\r\n         history.push(\"/temperature\")\r\n         /* console.log(celsius)\r\n         console.log(fahrenheit) */\r\n      }  \r\n   }\r\n\r\n   return (\r\n      <div className=\"Home\">\r\n         <form className=\"form\" noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n            <div className=\"form-elements\">\r\n               <TextField id=\"text-1\" label=\"Your API Key\" color=\"secondary\" name=\"key\" value={formData.key} onChange={handleChange} fullWidth />\r\n            </div>\r\n\r\n            <div className=\"form-elements\">\r\n               <TextField id=\"text-2\" select label=\"City Name\" color=\"secondary\" name=\"country\" value={formData.country} onChange={handleChange} fullWidth >\r\n                  {countries.map((option) => (\r\n                     <MenuItem key={option} value={option}> {option} </MenuItem>\r\n                  ))}\r\n               </TextField>\r\n            </div>\r\n\r\n            <div className=\"form-elements\">\r\n               {/* <Button onClick={() => dispatch(increment())} id=\"buttons\" variant=\"contained\" color=\"secondary\" fullWidth > Submit </Button> */}\r\n               <Button type=\"submit\" id=\"buttons\" variant=\"contained\" color=\"secondary\" fullWidth > Submit </Button>\r\n            </div>\r\n         </form> \r\n      </div>\r\n   )\r\n}\r\n\r\n/* const mapDispatchToProps = dispatch => ({\r\n   setTemperature: temperature => dispatch(setTemperature(temperature)),\r\n   increment: () => dispatch(increment())\r\n}) */\r\n\r\nexport default Home\r\n//export default connect(null, mapDispatchToProps)(Home)","F:\\zmaster_repo\\react\\react-exercise\\src\\components\\Temperature.js",[],"F:\\zmaster_repo\\react\\react-exercise\\src\\redux\\reducers\\myReducer.js",[],"F:\\zmaster_repo\\react\\react-exercise\\src\\redux\\actions.js",[],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":7,"column":9,"nodeType":"43","messageId":"44","endLine":7,"endColumn":16},{"ruleId":"41","severity":1,"message":"45","line":8,"column":25,"nodeType":"43","messageId":"44","endLine":8,"endColumn":34},{"ruleId":"46","severity":1,"message":"47","line":26,"column":7,"nodeType":"48","endLine":26,"endColumn":18,"suggestions":"49"},"no-native-reassign",["50"],"no-negated-in-lhs",["51"],"no-unused-vars","'connect' is defined but never used.","Identifier","unusedVar","'increment' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.","ArrayExpression",["52"],"no-global-assign","no-unsafe-negation",{"desc":"53","fix":"54"},"Update the dependencies array to be: [getData, submitted]",{"range":"55","text":"56"},[805,816],"[getData, submitted]"]